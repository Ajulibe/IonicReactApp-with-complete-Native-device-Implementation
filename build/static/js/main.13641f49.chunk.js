(this["webpackJsonpionic-react"]=this["webpackJsonpionic-react"]||[]).push([[1],{25:function(e,t,n){"use strict";var r=n(0),a=n.n(r).a.createContext({memories:[],addMemory:function(){},initContext:function(){}});t.a=a},62:function(e,t,n){e.exports=n(89)},67:function(e,t,n){var r={"./pwa-action-sheet.entry.js":[94,60],"./pwa-camera-modal-instance.entry.js":[95,61],"./pwa-camera-modal.entry.js":[96,62],"./pwa-camera.entry.js":[97,63],"./pwa-toast.entry.js":[98,64]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=67,e.exports=a},69:function(e,t,n){var r={"./ion-action-sheet.entry.js":[100,7],"./ion-alert.entry.js":[101,8],"./ion-app_8.entry.js":[102,10],"./ion-avatar_3.entry.js":[103,21],"./ion-back-button.entry.js":[104,22],"./ion-backdrop.entry.js":[105,46],"./ion-button_2.entry.js":[106,23],"./ion-card_5.entry.js":[107,24],"./ion-checkbox.entry.js":[108,25],"./ion-chip.entry.js":[109,26],"./ion-col_3.entry.js":[110,47],"./ion-datetime_3.entry.js":[111,13],"./ion-fab_3.entry.js":[112,27],"./ion-img.entry.js":[113,48],"./ion-infinite-scroll_2.entry.js":[114,49],"./ion-input.entry.js":[115,28],"./ion-item-option_3.entry.js":[116,29],"./ion-item_8.entry.js":[117,30],"./ion-loading.entry.js":[118,31],"./ion-menu_3.entry.js":[119,32],"./ion-modal.entry.js":[120,11],"./ion-nav_2.entry.js":[121,18],"./ion-popover.entry.js":[122,12],"./ion-progress-bar.entry.js":[123,33],"./ion-radio_2.entry.js":[124,34],"./ion-range.entry.js":[125,35],"./ion-refresher_2.entry.js":[126,14],"./ion-reorder_2.entry.js":[127,20],"./ion-ripple-effect.entry.js":[128,50],"./ion-route_4.entry.js":[129,36],"./ion-searchbar.entry.js":[130,37],"./ion-segment_2.entry.js":[131,38],"./ion-select_3.entry.js":[132,39],"./ion-slide_2.entry.js":[133,51],"./ion-spinner.entry.js":[134,16],"./ion-split-pane.entry.js":[135,52],"./ion-tab-bar_2.entry.js":[136,40],"./ion-tab_2.entry.js":[137,19],"./ion-text.entry.js":[138,41],"./ion-textarea.entry.js":[139,42],"./ion-toast.entry.js":[140,43],"./ion-toggle.entry.js":[141,15],"./ion-virtual-scroll.entry.js":[142,53]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=69,e.exports=a},71:function(e,t,n){var r={"./ion-icon.entry.js":[146,68]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=71,e.exports=a},76:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(31),i=n.n(o),c=n(60),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(2),m=n(56),f=n(15),d=n(12),y=n(25),j=(n(76),function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.e,{className:"memory-item"},a.a.createElement(u.g,null,a.a.createElement(u.h,null,e.title)),a.a.createElement(u.f,{className:"imageDiv"},a.a.createElement("img",{src:e.image,alt:e.title,className:"image"}))))}),h=function(e){return a.a.createElement(a.a.Fragment,null," ",e.items.map((function(e){return a.a.createElement(u.v,{key:e.id},a.a.createElement(u.i,null,a.a.createElement(j,{image:e.base64Url,title:e.title})))})))},p=function(e){return a.a.createElement(u.k,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(u.l,{routerLink:e.link},a.a.createElement(u.o,{icon:e.icon})))},E=function(e){return a.a.createElement(u.d,{slot:"end"},a.a.createElement(u.c,{routerLink:e.link},a.a.createElement(u.o,{slot:"icon-only",icon:e.icon})))},v=function(e){return a.a.createElement(u.s,null,a.a.createElement(u.n,null,a.a.createElement(u.D,null,a.a.createElement(u.C,null,e.title),Object(u.M)("ios")&&a.a.createElement(E,{icon:d.a,link:"/new-memory"}))),a.a.createElement(u.j,null,a.a.createElement(u.m,null,0===e.memories.length&&a.a.createElement(u.v,null,a.a.createElement(u.i,null,a.a.createElement("h2",null,e.fallbackText))),a.a.createElement(h,{items:e.memories})),!Object(u.M)("ios")&&a.a.createElement(p,{icon:d.a,link:"/new-memory"})))},b=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"good"===e.type}));return a.a.createElement(v,{title:"Good Memories",fallbackText:"No Good Memories Found.",memories:e})},g=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"bad"===e.type}));return a.a.createElement(v,{title:"Bad Memories",fallbackText:"No Bad Memories Found.",memories:e})},w=(n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),a.a.lazy((function(){return n.e(9).then(n.bind(null,165))}))),k=function(){var e=Object(r.useContext)(y.a).initContext;return Object(r.useEffect)((function(){e()}),[e]),a.a.createElement(u.a,null,a.a.createElement(m.a,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(u.y,null)},a.a.createElement(u.B,null,a.a.createElement(u.u,null,a.a.createElement(f.b,{path:"/good-memories"},a.a.createElement(b,null)),a.a.createElement(f.b,{path:"/bad-memories"},a.a.createElement(g,null)),a.a.createElement(f.b,{path:"/new-memory"},a.a.createElement(w,null)),a.a.createElement(f.a,{to:"/good-memories"})),a.a.createElement(u.z,{slot:"bottom"},a.a.createElement(u.A,{href:"/good-memories",tab:"good"},a.a.createElement(u.o,{icon:d.j}),a.a.createElement(u.r,null,"Good Memories")),a.a.createElement(u.A,{href:"/bad-memories",tab:"bad"},a.a.createElement(u.o,{icon:d.o}),a.a.createElement(u.r,null,"Bad Memories")))))))},O=n(10),_=n.n(O),x=n(58),C=n(18),N=n(39),M=n(36),P=n(35),U=P.e.Storage,S=P.e.Filesystem,D=function(e){var t=Object(r.useState)([]),n=Object(M.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){var e=o.map((function(e){return{id:e.id,title:e.title,imagePath:e.imagePath,type:e.type}}));U.set({key:"memories",value:JSON.stringify(e)})}),[o]);var c=Object(r.useCallback)(Object(C.a)(_.a.mark((function e(){var t,n,r,a,o,c,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get({key:"memories"});case 2:t=e.sent,n=t.value?JSON.parse(t.value):[],r=[],a=Object(x.a)(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=16;break}return c=o.value,e.next=12,S.readFile({path:c.imagePath,directory:P.d.Data});case 12:l=e.sent,r.push({id:c.id,title:c.title,type:c.type,imagePath:c.imagePath,base64Url:"data:image/jpeg;base64,"+l.data});case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:i(r);case 25:case"end":return e.stop()}}),e,null,[[6,18,21,24]])}))),[]);return a.a.createElement(y.a.Provider,{value:{memories:o,addMemory:function(e,t,n,r){var a={id:Math.random().toString(),title:n,type:r,imagePath:e,base64Url:t};i((function(e){return[].concat(Object(N.a)(e),[a])})),console.log(o)},initContext:c}},e.children)};i.a.render(a.a.createElement(D,null,a.a.createElement(k,null)),document.getElementById("root")),Object(c.a)(window),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");l?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):s(t,e)}))}}()}},[[62,3,6]]]);
//# sourceMappingURL=main.13641f49.chunk.js.map